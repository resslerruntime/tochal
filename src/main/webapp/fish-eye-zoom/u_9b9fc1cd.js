function user_c(f){var e="",d="",a="",b="",g=encodeURIComponent(window.document.location.href),c=window["BD_PS_C"+(new Date()).getTime()]=new Image();for(v in f){switch(v){case"title":a=encodeURIComponent(f[v].replace(/<[^<>]+>/g,""));break;case"url":a=encodeURIComponent(f[v]);break;default:a=f[v]}e+=v+"="+a+"&"}b="&mu="+g;c.src="http://nsclick.baidu.com/v.gif?pid=201&pj=psuser&"+e+"path="+g+"&wd="+d+"&t="+new Date().getTime();return true}baidu.sio.callByBrowser("http://passport.baidu.com/passApi/js/uni_login_wrapper.js?cdnversion="+new Date().getTime(),function(){bds.se.passv3=passport.pop.init({apiOpt:{loginType:1,product:"mn",u:window.document.location.href,safeFlag:0,staticPage:"http://www.baidu.com/cache/user/html/v3Jump.html"},cache:false,tangram:true,authsite:["qzone","tsina"],authsiteCfg:{act:"implicit",display:"popup",jumpUrl:"http://www.baidu.com/cache/static/user/html/xd.html",onBindSuccess:function(b,c){var a=decodeURIComponent(c.passport_uname||c.displayname);bds.se.login.success(a);
return false}},registerLink:"https://passport.baidu.com/v2/?reg&u="+window.document.location.href,onLoginSuccess:function(b){b.returnValue=false;var a=b.rsp.data.userName||b.rsp.data.mail||b.rsp.data.phoneNumber;bds.se.login.success(a)},onSubmitStart:function(a){},onSubmitedErr:function(a){},onSystemErr:function(a){},onShow:function(){},onHide:function(){},onDestroy:function(){}})});bds.se.loginCallbackFunc=null;bds.se.login={init:function(){this.setUserInfo();var a=this;bds.comm.loginAction.push(function(b,c){a.setUserInfo(c)})},setUserInfo:function(d){var a=d||bds.comm.user;if(!a){return}var f=baidu.g("u");var g=(document.URL.indexOf("dsp=")!=-1)?"?dsp=pc":"";if(bds.comm.ishome){}else{var c=bds.comm.username==""?"https://passport.baidu.com/v2/?ucenteradduname":"http://www.baidu.com/p/"+a+"?from=mn";f.innerHTML="<span id='user'><a href='"+c+"' class='un'  onmousedown=\"return user_c({'fm':'set','tab':'home','uname':'"+a+"'})\">"+a+"<i class='c-icon c-icon-triangle-down-blue'></i></a><div id='userMenu' class='userMenu'><ul><li><a href='"+c+"' onmousedown=\"return user_c({'fm':'set','tab':'myhome','uname':'"+a+"'})\">我的主页</a></li><li><a href='http://passport.baidu.com' onmousedown=\"return user_c({'fm':'set','tab':'username'})\">帐号设置</a></li><li class='nl'><a href='http://passport.baidu.com/?logout&tpl=mn&u="+encodeURIComponent(document.location.href)+"' onmousedown=\"return user_c({'fm':'set','tab':'logout'})\">退出</a></li></ul></div></span>|<span id=\"user_center\"><a class=\"user_center_btn\" href=\"http://i.baidu.com/center\" onmousedown=\"return user_c({'fm':'set','tab':'uc_center'})\">个人中心<i class='c-icon c-icon-triangle-down-blue'></i></a><div id=\"userCenterMenu\" class=\"userMenu\"><ul><li><a href=\"http://i.baidu.com/my/collect\" onmousedown=\"return user_c({'fm':'set','tab':'uc_collect'})\">我的收藏</a></li><li><a href=\"http://i.baidu.com/my/cal\" onmousedown=\"return user_c({'fm':'set','tab':'uc_cal'})\">我的日历</a></li> <li><a href=\"http://i.baidu.com/my/track\" onmousedown=\"return user_c({'fm':'set','tab':'uc_track'})\">浏览记录</a></li></ul></div></span>|<a href='http://www.baidu.com/gaoji/preferences.html' onmousedown=\"return user_c({'fm':'set','tab':'setting','login':'1'})\">搜索设置</a>|<a href='/"+g+"' class='last' onmousedown=\"return user_c({'fm':'set','tab':'index','login':'1'})\">百度首页</a>"
}var a=baidu.g("user");var h=baidu.g("userMenu");if(a&&h){baidu.on(a,"mouseover",function(j){h.style.display="block"},true);baidu.on(a,"mouseout",function(j){h.style.display="none"},true)}var i=baidu.g("user_center");var e=baidu.g("userCenterMenu");var b=0;if(i&&e){baidu.on(i,"mouseover",function(j){if(!b){user_c({fm:"set",tab:"uc_menu_show"})}e.style.display="block";b++},true);baidu.on(i,"mouseout",function(j){e.style.display="none"},true)}},open:function(b,a){bds.se.loginCallbackFunc=b||function(){window.document.location.reload(true)};bds.se.passv3.show()},success:function(a){if(!bds.comm){return}bds.comm.user=a;bds.comm.username=a;window.bdUser=a;bds.se.passv3.hide();bds.se.loginCallbackFunc.call(window,1,a);for(var b=0;b<bds.comm.loginAction.length;b++){bds.comm.loginAction[b].call(window,1,a)}}};bds.se.login.init();window._invoke_login=function(b,a){bds.se.login.open(b,a)};if(baidu.g("lb")){baidu.on("lb","click",function(){bds.se.login.open()})};
